# NFS 서버의 접속 확인 방법.

Cocktail 서비스는 기본적으로 Storage class를 이용하여 persistence volume을 사용한다. local 및 baremetal 환경에서는 NFS 서버를 구축하여 Storage class로 활용하며 public cloud에서는 해당 서비스 제공자가 기본적으로 제공해 주는 storage class를 사용하게 된다.

본 문서는 local 및 Baremetal 환경에서 NFS 서버의 상태 및 cocktail service와의 연결이 정상적인지 확인하는 방법을 기술한다.

* NFS 서버의 설치 및 기동 \( nfs server 주소가 192.168.0.175로 가정하고, cluster를 구성하는 node들이 192.168.0.0/24 대역에 위치한다고 가정함\)

```
# yum install nfs-utils
# mkdir -p /cocktail-nfs

# vi /etc/exports
/cocktail-nfs 192.168.0.0/24(rw, sync, no_root_squash, no_all_squash)

# systemctl enable rpcbind
# systemctl enable nfs-server
# systemctl restart rpcbind
# systemctl restart nfs-server
```

* master node 및 worker node에서 nfs server로의 접속 여부 확인

```
# yum install nfs-utils

showmount 명령으로 NFS서버에서 share하는 디렉토리를 조회할 수 있다.
# showmount -e 192.168.0.175
/cocktail-nfs 192.168.0.0/24
```

* PV\(Persistence Volume\)를 갖는 POD의 nfs 서버상의 mount directory 조회 \(

```
# login to nfs server

NFS 서버에서 공유한 디렉토리로 이동(/cocktail-nfs라고 가정함)
# cd /cocktail-nfs
```



